
# Makefile for hdfclass library.
#
# $Id: Makefile.in,v 1.12 2000/10/09 19:46:19 jimg Exp $

@SET_MAKE@

DODS_ROOT = ../../..
# Added because @INCS@ is expanded to include `-I$(WWW_ROOT)' and without 
# a definition for that variable g++ is confused. jhrg 2/5/98.
WWW_ROOT = @WWW_ROOT@

INCS = -I. -I.. -I$(DODS_ROOT)/include -Isrc @INCS@
DEFS = @DEFS@
CPPFLAGS = @CPPFLAGS@ $(DEFS) $(INCS)
CXXFLAGS = @CXXFLAGS@ -Wall

# Set the instalation directories; prefix can be set on the command line
# during Makefile construction with `./configure --prefix /my/choice'

prefix = @prefix@
exec_prefix = $(prefix)
bindir = $(exec_prefix)/bin
libdir = $(exec_prefix)/lib
includedir = $(prefix)/include
manext = 1
mandir = $(prefix)/man/man$(manext)

src = $(DODS_ROOT)/src
etcdir = $(DODS_ROOT)/etc

INSTALLMAN = man

SHELL = /bin/sh
srcdir = @srcdir@

# names of key programs

LN_S = @LN_S@
CP = cp
CXX = @CXX@
AR = ar
TAGS = etags
RANLIB = @RANLIB@
INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
STRIP = strip

vpath %.h src
vpath %.cc src

OBJS = hcerr.o genvec.o sds.o annot.o vdata.o hcutil.o gri.o inst.o vgroup.o

libhdfclass.a:	$(OBJS)
	$(AR) ru libhdfclass.a $(OBJS)
	$(RANLIB) libhdfclass.a

Makefile: Makefile.in
	if [ -x ../config.status ]; \
	then \
	    ${SHELL} ../config.status; \
	else \
	    ../configure; \
	fi

clean:		
	-rm -fr libhdfclass.a $(OBJS)

distclean: clean
	-rm -fr libhdfclass.a $(OBJS)


.SUFFIXES: .o .cc .c

.cc.o:	hdfclass.h hcstream.h
	$(CXX) -c $(CXXFLAGS) $(CPPFLAGS) -o $@ $<

.PHONY: depend
depend: 
	@depend@ -m Makefile.in -- $(CPPFLAGS) -- src/*.cc

.PHONY: tags
tags:
	$(TAGS) $(TAGS_FLAGS) src/*.cc src/*.h 

# DO NOT DELETE; depend depends on this line.
annot.o: src/annot.cc
genvec.o: src/genvec.cc
gri.o: src/gri.cc
hcerr.o: src/hcerr.cc
hcutil.o: src/hcutil.cc
inst.o: src/inst.cc
sds.o: src/sds.cc
vdata.o: src/vdata.cc
vgroup.o: src/vgroup.cc
