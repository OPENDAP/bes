
# Makefile for hdfclass library.
#
# $Id: Makefile.in,v 1.10 1998/11/11 17:59:12 jimg Exp $

@SET_MAKE@

DODS_ROOT = ../../..
# Added because @INCS@ is expanded to include `-I$(WWW_ROOT)' and without 
# a definition for that variable g++ is confused. jhrg 2/5/98.
WWW_ROOT = @WWW_ROOT@

INCS = -I. -I$(DODS_ROOT)/include -Isrc @INCS@
DEFS = @DEFS@ -DUSE_LIBGXX_INLINES
CPPFLAGS = @CPPFLAGS@ $(DEFS) $(INCS)
CXXFLAGS = @CXXFLAGS@ -Wall

# Set the instalation directories; prefix can be set on the command line
# during Makefile construction with `./configure --prefix /my/choice'

prefix = @prefix@
exec_prefix = $(prefix)
bindir = $(exec_prefix)/bin
libdir = $(exec_prefix)/lib
includedir = $(prefix)/include
manext = 1
mandir = $(prefix)/man/man$(manext)

src = $(DODS_ROOT)/src
etcdir = $(DODS_ROOT)/etc

INSTALLMAN = man

SHELL = /bin/sh
srcdir = @srcdir@

# names of key programs

LN_S = @LN_S@
CP = cp
CXX = @CXX@
AR = ar
TAGS = etags
RANLIB = @RANLIB@
INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
STRIP = strip

vpath %.h src
vpath %.cc src

OBJS = hcerr.o genvec.o sds.o annot.o vdata.o hcutil.o gri.o inst.o vgroup.o

libhdfclass.a:	$(OBJS)
	$(AR) ru libhdfclass.a $(OBJS)
	$(RANLIB) libhdfclass.a

clean:		
	-rm -fr libhdfclass.a $(OBJS)

distclean: clean
	-rm -fr libhdfclass.a $(OBJS)


.SUFFIXES: .o .cc .c

.cc.o:	hdfclass.h hcstream.h
	$(CXX) -c $(CXXFLAGS) $(CPPFLAGS) -o $@ $<

.PHONY: depend
depend: 
	> dependencies
	@depend@ -m dependencies -- $(CPPFLAGS) -I@GPP_INC@ -- \
	src/*.cc

.PHONY: tags
tags:
	$(TAGS) $(TAGS_FLAGS) src/*.cc src/*.h 

include dependencies
