<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bes: ncml_module::NetcdfElement::VariableValueValidator Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bes<span id="projectnumber">&#160;Updated for version 3.21.1</span>
   </div>
   <div id="projectbrief">The Backend Server (BES) is the lower two tiers of the Hyrax data server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d7/d33/classncml__module_1_1NetcdfElement_1_1VariableValueValidator.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dc/db7/classncml__module_1_1NetcdfElement_1_1VariableValueValidator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ncml_module::NetcdfElement::VariableValueValidator Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d6/dc4/NetcdfElement_8h_source.html">NetcdfElement.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ncml_module::NetcdfElement::VariableValueValidator:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d33/classncml__module_1_1NetcdfElement_1_1VariableValueValidator__coll__graph.png" border="0" usemap="#ancml__module_1_1NetcdfElement_1_1VariableValueValidator_coll__map" alt="Collaboration graph"/></div>
<map name="ancml__module_1_1NetcdfElement_1_1VariableValueValidator_coll__map" id="ancml__module_1_1NetcdfElement_1_1VariableValueValidator_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,209,220"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d2b/classncml__module_1_1NetcdfElement_1_1VariableValueValidator_1_1VVVEntry.html">VVVEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6c5768289a3cac256dedce4d729ec8ee" id="r_a6c5768289a3cac256dedce4d729ec8ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c5768289a3cac256dedce4d729ec8ee">addVariableToValidate</a> (libdap::BaseType *pNewVar, <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html">VariableElement</a> *pVE)</td></tr>
<tr class="separator:a6c5768289a3cac256dedce4d729ec8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf518417ba6a71ec249f322ce03b151" id="r_afcf518417ba6a71ec249f322ce03b151"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html">VariableElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afcf518417ba6a71ec249f322ce03b151">findVariableElementForLibdapVar</a> (libdap::BaseType *pNewVar)</td></tr>
<tr class="separator:afcf518417ba6a71ec249f322ce03b151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a174c06999b42cf4db4508e2a50b50208" id="r_a174c06999b42cf4db4508e2a50b50208"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a174c06999b42cf4db4508e2a50b50208">removeVariableToValidate</a> (libdap::BaseType *pVarToRemove)</td></tr>
<tr class="separator:a174c06999b42cf4db4508e2a50b50208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a82193e4ee3cd39e1d081e8d019369d" id="r_a3a82193e4ee3cd39e1d081e8d019369d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a82193e4ee3cd39e1d081e8d019369d">setVariableGotValues</a> (libdap::BaseType *pVarToValidate)</td></tr>
<tr class="separator:a3a82193e4ee3cd39e1d081e8d019369d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab177475d315bc89ca5d1ae9d8b122f81" id="r_ab177475d315bc89ca5d1ae9d8b122f81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab177475d315bc89ca5d1ae9d8b122f81">validate</a> ()</td></tr>
<tr class="separator:ab177475d315bc89ca5d1ae9d8b122f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ad21750d251aca5b958e3f0df52157" id="r_a81ad21750d251aca5b958e3f0df52157"><td class="memItemLeft" align="right" valign="top"><a id="a81ad21750d251aca5b958e3f0df52157" name="a81ad21750d251aca5b958e3f0df52157"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>VariableValueValidator</b> (<a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html">NetcdfElement</a> *pParent)</td></tr>
<tr class="separator:a81ad21750d251aca5b958e3f0df52157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a89596ddb2b9aa9f9f7c698cb169b31" id="r_a7a89596ddb2b9aa9f9f7c698cb169b31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a89596ddb2b9aa9f9f7c698cb169b31">~VariableValueValidator</a> ()</td></tr>
<tr class="separator:a7a89596ddb2b9aa9f9f7c698cb169b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Inner class for keeping track of new variables created within the context of this dataset for which we do not get &lt;values&gt; set up front. This should really only happen in the case of a "placeholder" array variable that acts as a coordinate variable for a joinNew aggregation where the author desires setting the metadata for the new dimension's map vector.</p>
<p>Callers will access this via methods in <a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html" title="Concrete class for NcML &lt;netcdf&gt; element.">NetcdfElement</a>.</p>
<p>If a new <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> is created and refers to a new variable but which has not had its value set by the <a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html#a17f738ad6235a08d82d63651cc28c230">handleEnd()</a> of the <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a>, it will be placed into an instance of this class (a member variable of this). The ref count of the element will be increased on addition and will be decremented when the VVV is destroyed (along with the containing <a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html" title="Concrete class for NcML &lt;netcdf&gt; element.">NetcdfElement</a>).</p>
<p>The <a class="el" href="../../df/d52/classncml__module_1_1AggregationElement.html">AggregationElement</a> processParentDatasetComplete() should inform this <a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html" title="Concrete class for NcML &lt;netcdf&gt; element.">NetcdfElement</a> once it sets the values on an entry in the VVV and the VVV instance will be updated to reflect that entry as having been validated.</p>
<p>VVV.validate() will be called in <a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html#a17f738ad6235a08d82d63651cc28c230">NetcdfElement::handleEnd()</a> AFTER the aggregations have had their processParentDatasetComplete() called. If any entries in the VVV have NOT had their values set by this point, the validate will throw a parse error explaining the issue to maintain integrity of the libdap variables (and avoid cryptic internal errors much later down the line). </p>

<p class="definition">Definition at line <a class="el" href="../../d6/dc4/NetcdfElement_8h_source.html#l00411">411</a> of file <a class="el" href="../../d6/dc4/NetcdfElement_8h_source.html">NetcdfElement.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7a89596ddb2b9aa9f9f7c698cb169b31" name="a7a89596ddb2b9aa9f9f7c698cb169b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a89596ddb2b9aa9f9f7c698cb169b31">&#9670;&#160;</a></span>~VariableValueValidator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ncml_module::NetcdfElement::VariableValueValidator::~VariableValueValidator </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will decrement the ref count of all contained <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a>'s </p><dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6c5768289a3cac256dedce4d729ec8ee" name="a6c5768289a3cac256dedce4d729ec8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c5768289a3cac256dedce4d729ec8ee">&#9670;&#160;</a></span>addVariableToValidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ncml_module::NetcdfElement::VariableValueValidator::addVariableToValidate </td>
          <td>(</td>
          <td class="paramtype">libdap::BaseType *</td>          <td class="paramname"><span class="paramname"><em>pNewVar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html">VariableElement</a> *</td>          <td class="paramname"><span class="paramname"><em>pVE</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a validation entry for the given <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> and the actual variable that it has created and added to the <a class="el" href="../../d2/d4b/classDDS.html">DDS</a>. pVE-&gt;<a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html#a4f1d8d3bd58f1b3b618d8402c0ec03be">ref()</a> will be called to make sure the element stays around after the parser has deref() it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pNewVar</td><td>the actual libdap variable that was created and is currently in the <a class="el" href="../../d2/d4b/classDDS.html">DDS</a> of this dataset (in _response). Should not be null. </td></tr>
    <tr><td class="paramname">pVE</td><td>the <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> that created it. pVE-&gt;checkGotValues() will determine whether the entry has been validated. pVE-&gt;<a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html#a4f1d8d3bd58f1b3b618d8402c0ec03be">ref()</a> will be called to up the ref count. Should not be null. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afcf518417ba6a71ec249f322ce03b151" name="afcf518417ba6a71ec249f322ce03b151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcf518417ba6a71ec249f322ce03b151">&#9670;&#160;</a></span>findVariableElementForLibdapVar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html">VariableElement</a> * ncml_module::NetcdfElement::VariableValueValidator::findVariableElementForLibdapVar </td>
          <td>(</td>
          <td class="paramtype">libdap::BaseType *</td>          <td class="paramname"><span class="paramname"><em>pNewVar</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If a <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> has been associated with a new var to validate, return it. If not, return null. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pNewVar</td><td>the libdap variable (key) to look up </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the associated <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> for pNewVar, else null if not set with addVariableToValidate. </dd></dl>

</div>
</div>
<a id="a174c06999b42cf4db4508e2a50b50208" name="a174c06999b42cf4db4508e2a50b50208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a174c06999b42cf4db4508e2a50b50208">&#9670;&#160;</a></span>removeVariableToValidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ncml_module::NetcdfElement::VariableValueValidator::removeVariableToValidate </td>
          <td>(</td>
          <td class="paramtype">libdap::BaseType *</td>          <td class="paramname"><span class="paramname"><em>pVarToRemove</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove an entry previously added under the key pVarToRemove with addVariableToValidate. Will <a class="el" href="../../d2/dfb/classagg__util_1_1RCObject.html#ae53768c000bbfcc3f7a612344ff22b7b">unref()</a> the <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> portion. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pVarToRemove</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a82193e4ee3cd39e1d081e8d019369d" name="a3a82193e4ee3cd39e1d081e8d019369d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a82193e4ee3cd39e1d081e8d019369d">&#9670;&#160;</a></span>setVariableGotValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ncml_module::NetcdfElement::VariableValueValidator::setVariableGotValues </td>
          <td>(</td>
          <td class="paramtype">libdap::BaseType *</td>          <td class="paramname"><span class="paramname"><em>pVarToValidate</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lookup the <a class="el" href="../../d2/db8/classncml__module_1_1VariableElement.html" title="Concrete class for NcML &lt;variable&gt; element.">VariableElement</a> pVE associated with the given pVarToValidate and call pVE-&gt;setGotValues() on it to validate it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pVarToValidate</td><td>a non-null variable that was entered with addVariableToValidate </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">An</td><td>internal error is thrown if pVarToValidate was not already added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab177475d315bc89ca5d1ae9d8b122f81" name="ab177475d315bc89ca5d1ae9d8b122f81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab177475d315bc89ca5d1ae9d8b122f81">&#9670;&#160;</a></span>validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> ncml_module::NetcdfElement::VariableValueValidator::validate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make sure all the entries has had their values set else throw a parse error explaining which variable has not so the author can fix the error. On success return true. </p><dl class="section return"><dt>Returns</dt><dd>whether all contained variables have values. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d6/dc4/NetcdfElement_8h_source.html">NetcdfElement.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d6a/namespacencml__module.html">ncml_module</a></li><li class="navelem"><a class="el" href="../../d6/d41/classncml__module_1_1NetcdfElement.html">NetcdfElement</a></li><li class="navelem"><a class="el" href="../../d7/d33/classncml__module_1_1NetcdfElement_1_1VariableValueValidator.html">VariableValueValidator</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
