<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bes: agg_util::GridAggregateOnOuterDimension Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bes<span id="projectnumber">&#160;Updated for version 3.21.1</span>
   </div>
   <div id="projectbrief">The Backend Server (BES) is the lower two tiers of the Hyrax data server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="../../d8/def/classagg__util_1_1GridAggregateOnOuterDimension-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">agg_util::GridAggregateOnOuterDimension Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../da/d28/GridAggregateOnOuterDimension_8h_source.html">GridAggregateOnOuterDimension.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for agg_util::GridAggregateOnOuterDimension:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d37/classagg__util_1_1GridAggregateOnOuterDimension__inherit__graph.png" border="0" usemap="#aagg__util_1_1GridAggregateOnOuterDimension_inherit__map" alt="Inheritance graph"/></div>
<map name="aagg__util_1_1GridAggregateOnOuterDimension_inherit__map" id="aagg__util_1_1GridAggregateOnOuterDimension_inherit__map">
<area shape="rect" title=" " alt="" coords="5,581,248,796"/>
<area shape="rect" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html" title=" " alt="" coords="23,119,231,533"/>
<area shape="poly" title=" " alt="" coords="129,547,129,581,124,581,124,547"/>
<area shape="rect" title=" " alt="" coords="85,5,168,71"/>
<area shape="poly" title=" " alt="" coords="129,85,129,118,124,118,124,85"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for agg_util::GridAggregateOnOuterDimension:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d29/classagg__util_1_1GridAggregateOnOuterDimension__coll__graph.png" border="0" usemap="#aagg__util_1_1GridAggregateOnOuterDimension_coll__map" alt="Collaboration graph"/></div>
<map name="aagg__util_1_1GridAggregateOnOuterDimension_coll__map" id="aagg__util_1_1GridAggregateOnOuterDimension_coll__map">
<area shape="rect" title=" " alt="" coords="5,581,248,796"/>
<area shape="rect" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html" title=" " alt="" coords="23,119,231,533"/>
<area shape="poly" title=" " alt="" coords="129,547,129,581,124,581,124,547"/>
<area shape="rect" title=" " alt="" coords="85,5,168,71"/>
<area shape="poly" title=" " alt="" coords="129,85,129,118,124,118,124,85"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae8ed53aee4503c2bb1e380105314996f" id="r_ae8ed53aee4503c2bb1e380105314996f"><td class="memItemLeft" align="right" valign="top">virtual const AMDList &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#ae8ed53aee4503c2bb1e380105314996f">getDatasetList</a> () const</td></tr>
<tr class="separator:ae8ed53aee4503c2bb1e380105314996f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ea7f5a79d860ea8add44f42873c499" id="r_ac7ea7f5a79d860ea8add44f42873c499"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7ea7f5a79d860ea8add44f42873c499">GridAggregateOnOuterDimension</a> (const <a class="el" href="../../d0/daf/classGrid.html">Grid</a> &amp;proto, const <a class="el" href="../../da/dcb/structagg__util_1_1Dimension.html">Dimension</a> &amp;newDim, const AMDList &amp;memberDatasets, const <a class="el" href="../../d4/dfc/classagg__util_1_1DDSLoader.html">DDSLoader</a> &amp;loaderProto)</td></tr>
<tr class="separator:ac7ea7f5a79d860ea8add44f42873c499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6321984a9143e72c274c23f8761c7a11" id="r_a6321984a9143e72c274c23f8761c7a11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6321984a9143e72c274c23f8761c7a11">GridAggregateOnOuterDimension</a> (const <a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> &amp;proto)</td></tr>
<tr class="separator:a6321984a9143e72c274c23f8761c7a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a645f458824e0c649fae56305d138b" id="r_a49a645f458824e0c649fae56305d138b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49a645f458824e0c649fae56305d138b">operator=</a> (const <a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> &amp;rhs)</td></tr>
<tr class="separator:a49a645f458824e0c649fae56305d138b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631bb8cf4eda58ca1a5523a7e68c1012" id="r_a631bb8cf4eda58ca1a5523a7e68c1012"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a631bb8cf4eda58ca1a5523a7e68c1012">ptr_duplicate</a> ()</td></tr>
<tr class="separator:a631bb8cf4eda58ca1a5523a7e68c1012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a108b2011a33a305e2ad7dcf9f9900783" id="r_a108b2011a33a305e2ad7dcf9f9900783"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a108b2011a33a305e2ad7dcf9f9900783">read</a> () override</td></tr>
<tr class="separator:a108b2011a33a305e2ad7dcf9f9900783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b97154a476fc3d35ba54a654b9dc0ad" id="r_a7b97154a476fc3d35ba54a654b9dc0ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a7b97154a476fc3d35ba54a654b9dc0ad">serialize</a> (libdap::ConstraintEvaluator &amp;eval, libdap::DDS &amp;dds, libdap::Marshaller &amp;m, <a class="el" href="../../d9/db9/classbool.html">bool</a> ce_eval) override</td></tr>
<tr class="separator:a7b97154a476fc3d35ba54a654b9dc0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c126a096cab695eab2013e094a8873d" id="r_a9c126a096cab695eab2013e094a8873d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a9c126a096cab695eab2013e094a8873d">setShapeFrom</a> (const libdap::Grid &amp;protoSubGrid, <a class="el" href="../../d9/db9/classbool.html">bool</a> addMaps)</td></tr>
<tr class="separator:a9c126a096cab695eab2013e094a8873d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf7aef8f9a1cdd0f334395144a2f009" id="r_adaf7aef8f9a1cdd0f334395144a2f009"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#adaf7aef8f9a1cdd0f334395144a2f009">transform_to_dap4</a> (libdap::D4Group *root, libdap::Constructor *container) override</td></tr>
<tr class="separator:adaf7aef8f9a1cdd0f334395144a2f009"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a96d7874ab089f8c2e752ec1db70c77ec" id="r_a96d7874ab089f8c2e752ec1db70c77ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a96d7874ab089f8c2e752ec1db70c77ec">copyProtoMapsIntoThisGrid</a> (const <a class="el" href="../../da/dcb/structagg__util_1_1Dimension.html">Dimension</a> &amp;aggDim)</td></tr>
<tr class="separator:a96d7874ab089f8c2e752ec1db70c77ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f07496aaff909a79149004e02eb7a75" id="r_a8f07496aaff909a79149004e02eb7a75"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="../../da/dcb/structagg__util_1_1Dimension.html">Dimension</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f07496aaff909a79149004e02eb7a75">getAggregationDimension</a> () const</td></tr>
<tr class="separator:a8f07496aaff909a79149004e02eb7a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e5b4be4d08d14f518579477b938383" id="r_ad1e5b4be4d08d14f518579477b938383"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/daf/classGrid.html">Grid</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#ad1e5b4be4d08d14f518579477b938383">getSubGridTemplate</a> ()</td></tr>
<tr class="separator:ad1e5b4be4d08d14f518579477b938383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca18a04d91cbfddf8ab01f8c25cc066" id="r_a1ca18a04d91cbfddf8ab01f8c25cc066"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a1ca18a04d91cbfddf8ab01f8c25cc066">printConstraints</a> (const libdap::Array &amp;fromArray)</td></tr>
<tr class="separator:a1ca18a04d91cbfddf8ab01f8c25cc066"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929a7e1bb26235fb5d6d4daa9c69b648" id="r_a929a7e1bb26235fb5d6d4daa9c69b648"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a929a7e1bb26235fb5d6d4daa9c69b648">readAndAggregateConstrainedMapsHook</a> ()</td></tr>
<tr class="separator:a929a7e1bb26235fb5d6d4daa9c69b648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c4436ada3c9e51ca74796c2f961ffd" id="r_ab6c4436ada3c9e51ca74796c2f961ffd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#ab6c4436ada3c9e51ca74796c2f961ffd">readProtoSubGrid</a> ()</td></tr>
<tr class="separator:ab6c4436ada3c9e51ca74796c2f961ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55445a926362f177963dbdf42f01d079" id="r_a55445a926362f177963dbdf42f01d079"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55445a926362f177963dbdf42f01d079">transferConstraintsToSubGridHook</a> (<a class="el" href="../../d0/daf/classGrid.html">Grid</a> *pSubGrid)</td></tr>
<tr class="separator:a55445a926362f177963dbdf42f01d079"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class <a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> : public <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html">GridAggregationBase</a></p>
<p><a class="el" href="../../d0/daf/classGrid.html">Grid</a> that performs a joinNew aggregation by taking an ordered list of datatsets which contain <a class="el" href="../../d0/daf/classGrid.html">Grid</a>'s with matching signatures (ie array name, dimensions, maps) and creating a new outer dimension with cardinality the number of datasets in the aggregation.</p>
<p>The resulting aggregated grid will be one plus the rank of the array's of the member dataset Grids.</p>
<p>We assume we have created the proper shape of this <a class="el" href="../../d0/daf/classGrid.html">Grid</a> so that the map vectors in the <a class="el" href="../../d0/daf/classGrid.html">Grid</a> superclass are correct (as loaded from the first dataset!)</p>
<p>The data itself will be loaded as needed during serialize based on the response.</p>
<p>TODO OPTIMIZE One major issue is we create one of these objects per aggregation variable, even if these vars are in the same dataset. So when we read, we load the dataset for each variable! Does the BES cache them or something? Maybe we can avoid doing this with some smarts? Not sure... I get the feeling the other handlers do the same sort of thing, but can be smarter about seeking, etc. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d28/GridAggregateOnOuterDimension_8h_source.html#l00080">80</a> of file <a class="el" href="../../da/d28/GridAggregateOnOuterDimension_8h_source.html">GridAggregateOnOuterDimension.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac7ea7f5a79d860ea8add44f42873c499" name="ac7ea7f5a79d860ea8add44f42873c499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7ea7f5a79d860ea8add44f42873c499">&#9670;&#160;</a></span>GridAggregateOnOuterDimension() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agg_util::GridAggregateOnOuterDimension::GridAggregateOnOuterDimension </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/daf/classGrid.html">Grid</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>proto</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/dcb/structagg__util_1_1Dimension.html">Dimension</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>newDim</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AMDList &amp;</td>          <td class="paramname"><span class="paramname"><em>memberDatasets</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/dfc/classagg__util_1_1DDSLoader.html">DDSLoader</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>loaderProto</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the new <a class="el" href="../../d0/daf/classGrid.html">Grid</a> from the template proto... we'll have the same name, dimension and attributes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proto</td><td>template to use, will be the aggVar from the FIRST member dataset! </td></tr>
    <tr><td class="paramname">memberDatasets</td><td>descriptors for the dataset members of the aggregation. ASSUMED that the contained <a class="el" href="../../d2/d4b/classDDS.html">DDS</a> will have a <a class="el" href="../../d0/daf/classGrid.html">Grid</a> var with name proto.name() that matches rank and maps, etc!! </td></tr>
    <tr><td class="paramname">loaderProto</td><td>loaded template to use (borrow dhi from) to load the datasets </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00065">65</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<a id="a6321984a9143e72c274c23f8761c7a11" name="a6321984a9143e72c274c23f8761c7a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6321984a9143e72c274c23f8761c7a11">&#9670;&#160;</a></span>GridAggregateOnOuterDimension() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">agg_util::GridAggregateOnOuterDimension::GridAggregateOnOuterDimension </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>proto</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00076">76</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<a id="ac14a6d95b29f4382a16aad013c841ba1" name="ac14a6d95b29f4382a16aad013c841ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14a6d95b29f4382a16aad013c841ba1">&#9670;&#160;</a></span>~GridAggregateOnOuterDimension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">agg_util::GridAggregateOnOuterDimension::~GridAggregateOnOuterDimension </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00100">100</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a96d7874ab089f8c2e752ec1db70c77ec" name="a96d7874ab089f8c2e752ec1db70c77ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d7874ab089f8c2e752ec1db70c77ec">&#9670;&#160;</a></span>copyProtoMapsIntoThisGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregationBase::copyProtoMapsIntoThisGrid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/dcb/structagg__util_1_1Dimension.html">Dimension</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>aggDim</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copy the template's read in subgrid maps into this. Skip any map found in the subgrid named aggDim.name since we handle the aggregation dimension map specially. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aggDim</td><td>a map with aggDim.name is NOT copied. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00387">387</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a8f07496aaff909a79149004e02eb7a75" name="a8f07496aaff909a79149004e02eb7a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f07496aaff909a79149004e02eb7a75">&#9670;&#160;</a></span>getAggregationDimension()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../da/dcb/structagg__util_1_1Dimension.html">Dimension</a> &amp; agg_util::GridAggregateOnOuterDimension::getAggregationDimension </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the contained aggregation dimension info </p>

<p>Implements <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a6d84d5ee46b3991b9f264a45fa4471e5">agg_util::GridAggregationBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00153">153</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<a id="ae8ed53aee4503c2bb1e380105314996f" name="ae8ed53aee4503c2bb1e380105314996f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ed53aee4503c2bb1e380105314996f">&#9670;&#160;</a></span>getDatasetList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const AMDList &amp; agg_util::GridAggregationBase::getDatasetList </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Accessor for the dataset description list that describes this aggregation. </p><dl class="section return"><dt>Returns</dt><dd>a reference to the <a class="el" href="../../d4/d35/classagg__util_1_1AggMemberDataset.html">AggMemberDataset</a> list. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00163">163</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="ad1e5b4be4d08d14f518579477b938383" name="ad1e5b4be4d08d14f518579477b938383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e5b4be4d08d14f518579477b938383">&#9670;&#160;</a></span>getSubGridTemplate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/daf/classGrid.html">Grid</a> * agg_util::GridAggregationBase::getSubGridTemplate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reveals the raw ptr, but only to subclasses. Don't delete it, but can be changed etc. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00321">321</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a49a645f458824e0c649fae56305d138b" name="a49a645f458824e0c649fae56305d138b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a645f458824e0c649fae56305d138b">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> &amp; agg_util::GridAggregateOnOuterDimension::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00090">90</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<a id="a1ca18a04d91cbfddf8ab01f8c25cc066" name="a1ca18a04d91cbfddf8ab01f8c25cc066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ca18a04d91cbfddf8ab01f8c25cc066">&#9670;&#160;</a></span>printConstraints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregationBase::printConstraints </td>
          <td>(</td>
          <td class="paramtype">const libdap::Array &amp;</td>          <td class="paramname"><span class="paramname"><em>fromArray</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00361">361</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a631bb8cf4eda58ca1a5523a7e68c1012" name="a631bb8cf4eda58ca1a5523a7e68c1012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a631bb8cf4eda58ca1a5523a7e68c1012">&#9670;&#160;</a></span>ptr_duplicate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a> * agg_util::GridAggregateOnOuterDimension::ptr_duplicate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00084">84</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<a id="a108b2011a33a305e2ad7dcf9f9900783" name="a108b2011a33a305e2ad7dcf9f9900783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a108b2011a33a305e2ad7dcf9f9900783">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> agg_util::GridAggregationBase::read </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read in only those datasets that are in the constrained output making sure to apply the internal dimension constraints to the member datasets properly before reading them! <a class="el" href="../../dc/dc3/classrapidjson_1_1Stream.html" title="Concept for reading and writing characters.">Stream</a> the data into the output buffer correctly.</p>
<p>NOTE: Subclasses should implement the protected hooks if possible rather than overriding this function! </p><dl class="section return"><dt>Returns</dt><dd>success. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00169">169</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a929a7e1bb26235fb5d6d4daa9c69b648" name="a929a7e1bb26235fb5d6d4daa9c69b648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929a7e1bb26235fb5d6d4daa9c69b648">&#9670;&#160;</a></span>readAndAggregateConstrainedMapsHook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregationBase::readAndAggregateConstrainedMapsHook </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called from <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a108b2011a33a305e2ad7dcf9f9900783">read()</a>! Invokes the user hooks eventually. Can be overridden, but default calls should suffice for now. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00344">344</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="ab6c4436ada3c9e51ca74796c2f961ffd" name="ab6c4436ada3c9e51ca74796c2f961ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c4436ada3c9e51ca74796c2f961ffd">&#9670;&#160;</a></span>readProtoSubGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregationBase::readProtoSubGrid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Transfer constraints properly from this object's maps and read in the proto subgrid entirely (respecting constraints) </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00368">368</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a7b97154a476fc3d35ba54a654b9dc0ad" name="a7b97154a476fc3d35ba54a654b9dc0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b97154a476fc3d35ba54a654b9dc0ad">&#9670;&#160;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/db9/classbool.html">bool</a> agg_util::GridAggregationBase::serialize </td>
          <td>(</td>
          <td class="paramtype">libdap::ConstraintEvaluator &amp;</td>          <td class="paramname"><span class="paramname"><em>eval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">libdap::DDS &amp;</td>          <td class="paramname"><span class="paramname"><em>dds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">libdap::Marshaller &amp;</td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>ce_eval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Pipelining data reads and network writes. This version of <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a7b97154a476fc3d35ba54a654b9dc0ad">serialize()</a>, like the versions in ArrayAggregation... also here in the NCML module, handles interleaved data reads and network write operations.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a108b2011a33a305e2ad7dcf9f9900783">read()</a> method for this class reads the entire Aggregated <a class="el" href="../../d0/daf/classGrid.html">Grid</a> variable into memory, so code that depends on that behavior will continue to work. When this <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#a7b97154a476fc3d35ba54a654b9dc0ad">serialize()</a> code is called and the variable is 'loaded' with data, the libdap::Grid::serialize() code is called, so that will work as well. When this method is called and the data still need to be read, the new behavior will take over and latency, from the client program's perspective, will be small compared to reading then entire variable and then transmitting its values.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eval</td><td></td></tr>
    <tr><td class="paramname">dds</td><td></td></tr>
    <tr><td class="paramname">m</td><td></td></tr>
    <tr><td class="paramname">ce_eval</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00219">219</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a9c126a096cab695eab2013e094a8873d" name="a9c126a096cab695eab2013e094a8873d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c126a096cab695eab2013e094a8873d">&#9670;&#160;</a></span>setShapeFrom()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregationBase::setShapeFrom </td>
          <td>(</td>
          <td class="paramtype">const libdap::Grid &amp;</td>          <td class="paramname"><span class="paramname"><em>protoSubGrid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/db9/classbool.html">bool</a></td>          <td class="paramname"><span class="paramname"><em>addMaps</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use the data array and maps from protoSubGrid as the initial point for the shape of the <a class="el" href="../../d0/daf/classGrid.html">Grid</a>. It may still not be complete until the callers adds maps, etc. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protoSubGrid</td><td>describes the data array and map templates to use for the granules (modulo any agg subclass changes). </td></tr>
    <tr><td class="paramname">addMaps</td><td>if true, add's all the maps in protoSubGrid into this. if false, does not. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00135">135</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<a id="a55445a926362f177963dbdf42f01d079" name="a55445a926362f177963dbdf42f01d079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55445a926362f177963dbdf42f01d079">&#9670;&#160;</a></span>transferConstraintsToSubGridHook()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregateOnOuterDimension::transferConstraintsToSubGridHook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/daf/classGrid.html">Grid</a> *</td>          <td class="paramname"><span class="paramname"><em>pSubGrid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>For the data array and all maps, transfer the constraints from the super grid (ie this) to all the grids in the given prototype subgrid.</p>
<p>Note that this <a class="el" href="../../d0/daf/classGrid.html">Grid</a> has one more outer dimension than the subgrid, so the first one on this will clearly be skipped.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pToGrid</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d3/dfb/classagg__util_1_1GridAggregationBase.html#aeb0a13e806048a5b0b05c8d8bf4463cd">agg_util::GridAggregationBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html#l00144">144</a> of file <a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a>.</p>

</div>
</div>
<a id="adaf7aef8f9a1cdd0f334395144a2f009" name="adaf7aef8f9a1cdd0f334395144a2f009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf7aef8f9a1cdd0f334395144a2f009">&#9670;&#160;</a></span>transform_to_dap4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void agg_util::GridAggregationBase::transform_to_dap4 </td>
          <td>(</td>
          <td class="paramtype">libdap::D4Group *</td>          <td class="paramname"><span class="paramname"><em>root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">libdap::Constructor *</td>          <td class="paramname"><span class="paramname"><em>container</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel inherited">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html#l00094">94</a> of file <a class="el" href="../../d6/d7a/GridAggregationBase_8cc_source.html">GridAggregationBase.cc</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/d28/GridAggregateOnOuterDimension_8h_source.html">GridAggregateOnOuterDimension.h</a></li>
<li><a class="el" href="../../de/d49/GridAggregateOnOuterDimension_8cc_source.html">GridAggregateOnOuterDimension.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/d95/namespaceagg__util.html">agg_util</a></li><li class="navelem"><a class="el" href="../../da/d90/classagg__util_1_1GridAggregateOnOuterDimension.html">GridAggregateOnOuterDimension</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
