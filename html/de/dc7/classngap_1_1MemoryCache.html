<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bes: ngap::MemoryCache&lt; VALUE &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">bes<span id="projectnumber">&#160;Updated for version 3.21.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/dc7/classngap_1_1MemoryCache.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d8/d07/classngap_1_1MemoryCache-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ngap::MemoryCache&lt; VALUE &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A simple memory cache.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ngap::MemoryCache&lt; VALUE &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d91/classngap_1_1MemoryCache__coll__graph.png" border="0" usemap="#angap_1_1MemoryCache_3_01VALUE_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="angap_1_1MemoryCache_3_01VALUE_01_4_coll__map" id="angap_1_1MemoryCache_3_01VALUE_01_4_coll__map">
<area shape="rect" title="A simple memory cache." alt="" coords="5,5,151,245"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a80a2163324dacf14baecc72e2a5b777c" id="r_a80a2163324dacf14baecc72e2a5b777c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80a2163324dacf14baecc72e2a5b777c">clear</a> ()</td></tr>
<tr class="memdesc:a80a2163324dacf14baecc72e2a5b777c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the cache.  <br /></td></tr>
<tr class="separator:a80a2163324dacf14baecc72e2a5b777c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6233ea2aa4454200d032c54147f060c" id="r_ad6233ea2aa4454200d032c54147f060c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6233ea2aa4454200d032c54147f060c">get</a> (const std::string &amp;key, VALUE &amp;value)</td></tr>
<tr class="memdesc:ad6233ea2aa4454200d032c54147f060c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the item from the cache. If the item is not in the cache, the value-result parameter is not modified.  <br /></td></tr>
<tr class="separator:ad6233ea2aa4454200d032c54147f060c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f67dde0477c50df44201421c0a4248a" id="r_a0f67dde0477c50df44201421c0a4248a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d9/db9/classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f67dde0477c50df44201421c0a4248a">initialize</a> (<a class="el" href="../../d1/da0/classint.html">int</a> max_items, <a class="el" href="../../d1/da0/classint.html">int</a> purge_items)</td></tr>
<tr class="memdesc:a0f67dde0477c50df44201421c0a4248a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the cache.  <br /></td></tr>
<tr class="separator:a0f67dde0477c50df44201421c0a4248a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc1c0da696cd88acb313256498fb32c" id="r_acbc1c0da696cd88acb313256498fb32c"><td class="memItemLeft" align="right" valign="top"><a id="acbc1c0da696cd88acb313256498fb32c" name="acbc1c0da696cd88acb313256498fb32c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MemoryCache</b> (const <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">MemoryCache</a> *src)=delete</td></tr>
<tr class="separator:acbc1c0da696cd88acb313256498fb32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98be2f4cc9577c8331afd88c7fb32a82" id="r_a98be2f4cc9577c8331afd88c7fb32a82"><td class="memItemLeft" align="right" valign="top"><a id="a98be2f4cc9577c8331afd88c7fb32a82" name="a98be2f4cc9577c8331afd88c7fb32a82"></a>
<a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">MemoryCache</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">MemoryCache</a> *src)=delete</td></tr>
<tr class="separator:a98be2f4cc9577c8331afd88c7fb32a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8641f13d32acf3b37212f6e19eea8eba" id="r_a8641f13d32acf3b37212f6e19eea8eba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8641f13d32acf3b37212f6e19eea8eba">put</a> (const std::string &amp;key, const VALUE &amp;value)</td></tr>
<tr class="memdesc:a8641f13d32acf3b37212f6e19eea8eba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put the item in the cache. If the key is already in the cache, the value is updated.  <br /></td></tr>
<tr class="separator:a8641f13d32acf3b37212f6e19eea8eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29aa88afa7ee774cb9e5118c735ade84" id="r_a29aa88afa7ee774cb9e5118c735ade84"><td class="memItemLeft" align="right" valign="top">virtual unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29aa88afa7ee774cb9e5118c735ade84">size</a> () const</td></tr>
<tr class="memdesc:a29aa88afa7ee774cb9e5118c735ade84"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many items are in the cache.  <br /></td></tr>
<tr class="separator:a29aa88afa7ee774cb9e5118c735ade84"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a9220b5bd94a87700c6ba98c59d9542e6" id="r_a9220b5bd94a87700c6ba98c59d9542e6"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9220b5bd94a87700c6ba98c59d9542e6">MemoryCacheTest</a></td></tr>
<tr class="separator:a9220b5bd94a87700c6ba98c59d9542e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename VALUE&gt;<br />
class ngap::MemoryCache&lt; VALUE &gt;</div><p>A simple memory cache. </p>
<p>This is a header-only class. It is used by <a class="el" href="../../da/d70/classngap_1_1NgapRequestHandler.html">NgapRequestHandler</a> to cache string values. It could be tested more completely and used in other places.</p>
<p>The cache implements a simple FIFO queue to purge the oldest entries when the cache is full. Purging is done when the count of cached items exceeds the maximum number of items allowed in the cache. The private purge method will remove the oldest P entries from the cache where P is the number of 'purge items' as set with the <a class="el" href="#a0f67dde0477c50df44201421c0a4248a" title="Initialize the cache.">initialize()</a> method.</p>
<p>Instead of initializing the cache (setting the max and purge item counts) using a constructor, am <a class="el" href="#a0f67dde0477c50df44201421c0a4248a" title="Initialize the cache.">initialize()</a> method is used. The constructors never throw exceptions. If <a class="el" href="#a0f67dde0477c50df44201421c0a4248a" title="Initialize the cache.">initialize()</a> fails, it returns false. The <a class="el" href="#ad6233ea2aa4454200d032c54147f060c" title="Get the item from the cache. If the item is not in the cache, the value-result parameter is not modif...">get()</a> and <a class="el" href="#a8641f13d32acf3b37212f6e19eea8eba" title="Put the item in the cache. If the key is already in the cache, the value is updated.">put()</a> methods may throw exceptions.</p>
<p>The cache is not thread-safe.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">VALUE</td><td>As of 10/17/23 only tested with std::string </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00064">64</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a80a2163324dacf14baecc72e2a5b777c" name="a80a2163324dacf14baecc72e2a5b777c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80a2163324dacf14baecc72e2a5b777c">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">ngap::MemoryCache</a>&lt; VALUE &gt;::clear </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear the cache. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00166">166</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>

</div>
</div>
<a id="ad6233ea2aa4454200d032c54147f060c" name="ad6233ea2aa4454200d032c54147f060c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6233ea2aa4454200d032c54147f060c">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">ngap::MemoryCache</a>&lt; VALUE &gt;::get </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VALUE &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the item from the cache. If the item is not in the cache, the value-result parameter is not modified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">value</td><td>Value-result parameter; operator=() is used to copy the value of the cached item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return True if the item is in the cache, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00133">133</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>

</div>
</div>
<a id="a0f67dde0477c50df44201421c0a4248a" name="a0f67dde0477c50df44201421c0a4248a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f67dde0477c50df44201421c0a4248a">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d9/db9/classbool.html">bool</a> <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">ngap::MemoryCache</a>&lt; VALUE &gt;::initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/da0/classint.html">int</a></td>          <td class="paramname"><span class="paramname"><em>max_items</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/da0/classint.html">int</a></td>          <td class="paramname"><span class="paramname"><em>purge_items</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_items</td><td>Must be greater than zero </td></tr>
    <tr><td class="paramname">purge_items</td><td>Must be greater than zero </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return True if the cache was initialized, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00117">117</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>

</div>
</div>
<a id="a8641f13d32acf3b37212f6e19eea8eba" name="a8641f13d32acf3b37212f6e19eea8eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8641f13d32acf3b37212f6e19eea8eba">&#9670;&#160;</a></span>put()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">ngap::MemoryCache</a>&lt; VALUE &gt;::put </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const VALUE &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put the item in the cache. If the key is already in the cache, the value is updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00149">149</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>

</div>
</div>
<a id="a29aa88afa7ee774cb9e5118c735ade84" name="a29aa88afa7ee774cb9e5118c735ade84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29aa88afa7ee774cb9e5118c735ade84">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned long <a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">ngap::MemoryCache</a>&lt; VALUE &gt;::size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>How many items are in the cache. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00163">163</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a9220b5bd94a87700c6ba98c59d9542e6" name="a9220b5bd94a87700c6ba98c59d9542e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9220b5bd94a87700c6ba98c59d9542e6">&#9670;&#160;</a></span>MemoryCacheTest</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class MemoryCacheTest</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel friend">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d2/d35/MemoryCache_8h_source.html#l00102">102</a> of file <a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d2/d35/MemoryCache_8h_source.html">MemoryCache.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>ngap</b></li><li class="navelem"><a class="el" href="../../de/dc7/classngap_1_1MemoryCache.html">MemoryCache</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
