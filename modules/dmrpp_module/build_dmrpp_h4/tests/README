11/??/23 Hand build version

We built a version of a DMR++ for the tests/testsds1.hdf file using output from the
h4mapwriter program. It worked although it had only two of the files variables. That
DMR++ is in the h4mapper_testsds_splice.dmrpp file. The hdf4_dap.bescmd and hdf4_dmr.bescmd
files can be used to build a DMR and DAP response from the DMR++ handler and the data file.

11/16/23 Initial version

Test of the first generated DMR++ file

0. Hand edit the bes.conf to use correct pathnames where marked

0. To build the DMR for the HDF4 file, needed to build the DMR++:
    besstandalone -c tests/bes.conf -i tests/build_testsds1_dmr.bescmd >  tests/testsds1.dmr

1. Build the DMR++ using
    ./build_dmrpp_h4 -u build_dmrpp_h4/tests/testsds1.hdf -r tests/testsds1.dmr -f tests/testsds1.hdf > tests/testsds1_2.hdf.dmrpp

2. Use the besstandalone tool to convert the DMR++ to DMR
    besstandalone -c tests/bes.conf -i tests/hdf4_dmr_2.bescmd

3. Look at data using besstandalone and getdap4
    besstandalone -c tests/bes.conf -i tests/hdf4_dap_2.bescmd > tmp
    getdap4 -DM tmp

The output should be:
edamame:build_dmrpp_h4 jimg$ besstandalone -c tests/bes.conf -i tests/hdf4_dap_2.bescmd > tmp
edamame:build_dmrpp_h4 jimg$ getdap4 -D -M tmp
<?xml version="1.0" encoding="ISO-8859-1"?>
<Dataset xmlns="http://xml.opendap.org/ns/DAP/4.0#" dapVersion="4.0" dmrVersion="1.0" name="testsds1.hdf">
    <Dimension name="fakeDim0" size="5"/>
    <Dimension name="fakeDim1" size="3"/>
    <Dimension name="fakeDim2" size="5"/>
    <Dimension name="fakeDim3" size="3"/>
    <Dimension name="fakeDim4" size="5"/>
    <Dimension name="fakeDim5" size="3"/>
    <Dimension name="fakeDim6" size="7"/>
    <Dimension name="fakeDim7" size="7"/>
    <Dimension name="fakeDim8" size="5"/>
    <Dimension name="fakeDim9" size="3"/>
    <Int32 name="SDS_DFNT_INT32">
        <Dim name="/fakeDim0"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim0</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>e31420a8</Value>
        </Attribute>
    </Int32>
    <UInt32 name="SDS_DFNT_UINT32">
        <Dim name="/fakeDim1"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim1</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>69c4e612</Value>
        </Attribute>
    </UInt32>
    <Int16 name="SDS_DFNT_INT16">
        <Dim name="/fakeDim2"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim2</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>6d90ae14</Value>
        </Attribute>
    </Int16>
    <UInt16 name="SDS_DFNT_UINT16">
        <Dim name="/fakeDim3"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim3</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>b758d439</Value>
        </Attribute>
    </UInt16>
    <Int32 name="SDS_DFNT_INT8">
        <Dim name="/fakeDim4"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim4</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>53cb9d21</Value>
        </Attribute>
    </Int32>
    <Byte name="SDS_DFNT_UINT8">
        <Dim name="/fakeDim5"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim5</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>cb5807de</Value>
        </Attribute>
    </Byte>
    <Float32 name="SDS_DFNT_FLOAT32">
        <Dim name="/fakeDim6"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim6</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>00d92d1b</Value>
        </Attribute>
    </Float32>
    <Float64 name="SDS_DFNT_FLOAT64">
        <Dim name="/fakeDim7"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim7</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>6bf4e052</Value>
        </Attribute>
    </Float64>
    <Byte name="SDS_DFNT_CHAR8">
        <Dim name="/fakeDim8"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim8</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>8519428c</Value>
        </Attribute>
    </Byte>
    <Byte name="SDS_DFNT_UCHAR8">
        <Dim name="/fakeDim9"/>
        <Attribute name="dim_0" type="Container">
            <Attribute name="name" type="String">
                <Value>fakeDim9</Value>
            </Attribute>
        </Attribute>
        <Attribute name="DAP4_Checksum_CRC32" type="String">
            <Value>cb5807de</Value>
        </Attribute>
    </Byte>
</Dataset>

The data:
Int32 SDS_DFNT_INT32[fakeDim0 = 5] = {0, 1, -1, 2147483647, -2147483648};
UInt32 SDS_DFNT_UINT32[fakeDim1 = 3] = {0, 1, 4294967295};
Int16 SDS_DFNT_INT16[fakeDim2 = 5] = {0, 1, -1, 32767, -32768};
UInt16 SDS_DFNT_UINT16[fakeDim3 = 3] = {0, 1, 65535};
Int32 SDS_DFNT_INT8[fakeDim4 = 5] = {130943, -2147483648, 0, 0, 1082291919};
Byte SDS_DFNT_UINT8[fakeDim5 = 3] = {0, 1, 255};
Float32 SDS_DFNT_FLOAT32[fakeDim6 = 7] = {0, 4.6006e-41, 4.61854e-41, nan, 2.35099e-38, nan, 2.35102e-38};
Float64 SDS_DFNT_FLOAT64[fakeDim7 = 7] = {0, 3.03865194161742e-319, 3.04497598188419e-319, nan, 7.2911220195564e-304, nan, 7.2911220195566e-304};
Byte SDS_DFNT_CHAR8[fakeDim8 = 5] = {0, 1, 255, 127, 128};
Byte SDS_DFNT_UCHAR8[fakeDim9 = 3] = {0, 1, 255};

edamame:build_dmrpp_h4 jimg$
