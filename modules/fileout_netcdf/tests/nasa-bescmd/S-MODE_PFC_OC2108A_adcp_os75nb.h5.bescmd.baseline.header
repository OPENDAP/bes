netcdf test {
dimensions:
	trajectory = 1 ;
	time = 4564 ;
	depth = 60 ;
variables:
	double trajectory(trajectory) ;
		trajectory:standard_name = "trajectory" ;
		trajectory:cf_role = "trajectory_id" ;
	double longitude(time) ;
		longitude:long_name = "Longitude of ADCP measurement" ;
		longitude:standard_name = "longitude" ;
		longitude:units = "degrees_east" ;
		longitude:coverage_content_type = "referenceInformation" ;
		longitude:_FillValue = NaN ;
	double time(time) ;
		time:long_name = "Time of ADCP measurement" ;
		time:axis = "T" ;
		time:standard_name = "time" ;
		time:units = "days since removed date-time" ;
		time:coverage_content_type = "coordinate" ;
	double latitude(time) ;
		latitude:long_name = "Latitude of ADCP measurement" ;
		latitude:standard_name = "latitude" ;
		latitude:units = "degrees_north" ;
		latitude:coverage_content_type = "referenceInformation" ;
		latitude:_FillValue = NaN ;
	double depth(time, depth) ;
		depth:long_name = "Depth of ADCP measurement" ;
		depth:valid_max = 1000. ;
		depth:valid_min = 0. ;
		depth:axis = "Z" ;
		depth:positive = "down" ;
		depth:standard_name = "depth" ;
		depth:units = "m" ;
		depth:coverage_content_type = "coordinate" ;
	double heading(time) ;
		heading:long_name = "Ship heading of ADCP measurement" ;
		heading:valid_max = 180. ;
		heading:valid_min = -180. ;
		heading:coordinates = "longitude latitude time" ;
		heading:standard_name = "platform_course" ;
		heading:units = "degree" ;
		heading:coverage_content_type = "physicalMeasurement" ;
		heading:_FillValue = NaN ;
	double zonal_velocity_component(time, depth) ;
		zonal_velocity_component:long_name = "Zonal velocity component of ADCP measurement" ;
		zonal_velocity_component:valid_max = 5. ;
		zonal_velocity_component:valid_min = -5. ;
		zonal_velocity_component:coordinates = "longitude latitude depth time" ;
		zonal_velocity_component:standard_name = "sea_water_x_velocity" ;
		zonal_velocity_component:units = "m s-1" ;
		zonal_velocity_component:coverage_content_type = "physicalMeasurement" ;
		zonal_velocity_component:_FillValue = NaN ;
	double status_flag(time, depth) ;
		status_flag:long_name = "Editing flags of ADCP measurement" ;
		status_flag:valid_max = 7. ;
		status_flag:valid_min = 0. ;
		status_flag:flag_values = 0., 1., 2., 3., 4., 5., 6., 7. ;
		status_flag:flag_meanings = "good bin_bad percent_good_bad bin_and_percent_good_bad range_bad range_and_bin_bad range_and_percent_good_bad range_and_percent_good_and_bin_bad" ;
		status_flag:standard_name = "status_flag" ;
		status_flag:coordinates = "longitude latitude depth time" ;
		status_flag:coverage_content_type = "referenceInformation" ;
	double meridional_velocity_component(time, depth) ;
		meridional_velocity_component:long_name = "Meridional velocity component of ADCP measurement" ;
		meridional_velocity_component:valid_max = 5. ;
		meridional_velocity_component:valid_min = -5. ;
		meridional_velocity_component:coordinates = "longitude latitude depth time" ;
		meridional_velocity_component:standard_name = "sea_water_y_velocity" ;
		meridional_velocity_component:units = "m s-1" ;
		meridional_velocity_component:coverage_content_type = "physicalMeasurement" ;
		meridional_velocity_component:_FillValue = NaN ;
	double transducer_temperature(time) ;
		transducer_temperature:long_name = "Transducer temperature of ADCP measurement" ;
		transducer_temperature:valid_max = 30. ;
		transducer_temperature:valid_min = 0. ;
		transducer_temperature:coordinates = "longitude latitude time" ;
		transducer_temperature:units = "degrees_C" ;
		transducer_temperature:coverage_content_type = "physicalMeasurement" ;
		transducer_temperature:_FillValue = NaN ;
	double ship_meridional_velocity_component(time) ;
		ship_meridional_velocity_component:long_name = "Ship meridional velocity component of ADCP measurement" ;
		ship_meridional_velocity_component:valid_max = 10. ;
		ship_meridional_velocity_component:valid_min = -10. ;
		ship_meridional_velocity_component:coordinates = "longitude latitude time" ;
		ship_meridional_velocity_component:standard_name = "platform_speed_wrt_ground" ;
		ship_meridional_velocity_component:units = "m s-1" ;
		ship_meridional_velocity_component:coverage_content_type = "physicalMeasurement" ;
		ship_meridional_velocity_component:_FillValue = NaN ;
	double ship_zonal_velocity_component(time) ;
		ship_zonal_velocity_component:long_name = "Ship zonal velocity component of ADCP measurement" ;
		ship_zonal_velocity_component:valid_max = 10. ;
		ship_zonal_velocity_component:valid_min = -10. ;
		ship_zonal_velocity_component:coordinates = "longitude latitude time" ;
		ship_zonal_velocity_component:standard_name = "platform_speed_wrt_ground" ;
		ship_zonal_velocity_component:units = "m s-1" ;
		ship_zonal_velocity_component:coverage_content_type = "physicalMeasurement" ;
		ship_zonal_velocity_component:_FillValue = NaN ;
	double number_of_pings(time) ;
		number_of_pings:long_name = "Number of pings averaged per ensemble of ADCP measurement" ;
		number_of_pings:coordinates = "longitude latitude time" ;
		number_of_pings:units = "1" ;
		number_of_pings:coverage_content_type = "referenceInformation" ;
		number_of_pings:_FillValue = NaN ;
	double amplitude(time, depth) ;
		amplitude:long_name = "Received signal strength of ADCP measurement" ;
		amplitude:coordinates = "longitude latitude depth time" ;
		amplitude:units = "1" ;
		amplitude:coverage_content_type = "physicalMeasurement" ;
		amplitude:_FillValue = NaN ;
	double percent_good(time, depth) ;
		percent_good:long_name = "Percent of good pings of ADCP measurement" ;
		percent_good:valid_max = 100. ;
		percent_good:valid_min = 0. ;
		percent_good:coordinates = "longitude latitude depth time" ;
		percent_good:coverage_content_type = "referenceInformation" ;
		percent_good:_FillValue = NaN ;

// global attributes:
		:DOI = "10.5067/SMODE-RVADC" ;
		:title = "S-MODE Shipboard Acoustic Doppler Current Pofiler Measurements from R/V Oceanus" ;
		:summary = "S-MODE Shipboard Acoustic Doppler Current Pofiler Measurements from R/V Oceanus" ;
		:keywords = "EARTH SCIENCE > OCEANS > OCEAN TEMPERATURE > TEMPERATURE PROFILES, EARTH SCIENCE > OCEANS > OCEAN CIRCULATION > CURRENT VELOCITY, EARTH SCIENCE > OCEANS > OCEAN CIRCULATION > OCEAN CURRENTS > CURRENT PROFILES" ;
		:keywords_vocabulary = "NASA Global Change Master Directory (GCMD) Science Keywords" ;
		:Conventions = "CF-1.8, ACDD-1.3" ;
		:uuid = "781dbd63-cac7-42c1-9774-d3a2cc494212" ;
		:naming_authority = "gov.nasa" ;
		:featureType = "trajectoryProfile" ;
		:cdm_data_type = "Trajectory" ;
		:source = "TBD" ;
		:platform = "In Situ Ocean-based Platforms > SHIPS > RV Oceanus" ;
		:platform_vocabulary = "GCMD platform keywords" ;
		:instrument = "In Situ/Laboratory Instruments > Profilers/Sounders > Acoustic Sounders > > ADCP" ;
		:instrument_vocabulary = "GCMD instrument keywords" ;
		:processing_level = "L2" ;
		:standard_name_vocabulary = "CF Standard Name Table v72" ;
		:comment = "" ;
		:license = "Issued under Creative Commons CC BY 4.0: https://creativecommons.org/licenses/by/4.0/" ;
		:product_version = "1" ;
		:metadata_link = "https://doi.org/10.5067/SMODE-RVADC" ;
		:creator_name = "Andrey Shcherbina" ;
		:creator_email = "shcher@uw.edu" ;
		:creator_type = "person" ;
		:creator_institution = "UWA/" ;
		:institution = "UWA/" ;
		:project = "Sub-Mesoscale Ocean Dynamics Experiment (S-MODE)" ;
		:program = "NASA Earth Venture Suborbital-3 (EVS-3)" ;
		:contributor_name = "Frederick Bingham" ;
		:contributor_role = "Project Data Manager" ;
		:publisher_name = "Physical Oceanography Distributed Active Archive Center, Jet Propulsion Laboratory, NASA" ;
		:publisher_email = "podaac@podaac.jpl.nasa.gov" ;
		:publisher_url = "https://podaac.jpl.nasa.gov" ;
		:publisher_type = "institution" ;
		:publisher_institution = "NASA/JPL/PODAAC" ;
		:sea_name = "Pacific" ;
		:geospatial_lat_min = 37.09345 ;
		:geospatial_lat_max = 44.656325 ;
		:geospatial_lat_resolution = "0.1" ;
		:geospatial_lon_resolution = "0.1" ;
		:geospatial_vertical_min = 28.9300003051758 ;
		:geospatial_vertical_max = 972.989990234375 ;
		:geospatial_vertical_resolution = "1" ;
		:geospatial_vertical_units = "m" ;
		:geospatial_vertical_positive = "down" ;
		:CODAS_variables = "\nVariables in this CODAS short-form Netcdf file are intended for most end-user\nscientific analysis and display purposes. For additional information see\nthe CODAS_processing_note global attribute and the attributes of each\nof the variables.\n\n\n============= =================================================================\ntime          Time at the end of the ensemble, days from start of year.\nlon, lat      Longitude, Latitude from GPS at the end of the ensemble.\nu,v           Ocean zonal and meridional velocity component profiles.\nuship, vship  Zonal and meridional velocity components of the ship.\nheading       Mean ship heading during the ensemble.\ndepth         Bin centers in nominal meters (no sound speed profile correction).\ntr_temp       ADCP transducer temperature.\npg            Percent Good pings for u, v averaging after editing.\npflag         Profile Flags based on editing, used to mask u, v.\namp           Received signal strength in ADCP-specific units; no correction\n              for spreading or attenuation.\n============= =================================================================\n\n" ;
		:CODAS_processing_note = "\nCODAS processing note:\n======================\n\nOverview\n--------\nThe CODAS database is a specialized storage format designed for\nshipboard ADCP data.  \"CODAS processing\" uses this format to hold\naveraged shipboard ADCP velocities and other variables, during the\nstages of data processing.  The CODAS database stores velocity\nprofiles relative to the ship as east and north components along with\nposition, ship speed, heading, and other variables. The netCDF *short*\nform contains ocean velocities relative to earth, time, position,\ntransducer temperature, and ship heading; these are designed to be\n\"ready for immediate use\".  The netCDF *long* form is just a dump of\nthe entire CODAS database.  Some variables are no longer used, and all\nhave names derived from their original CODAS names, dating back to the\nlate 1980\'s.\n\nPost-processing\n---------------\nCODAS post-processing, i.e. that which occurs after the single-ping\nprofiles have been vector-averaged and loaded into the CODAS database,\nincludes editing (using automated algorithms and manual tools),\nrotation and scaling of the measured velocities, and application of a\ntime-varying heading correction.  Additional algorithms developed more\nrecently include translation of the GPS positions to the transducer\nlocation, and averaging of ship\'s speed over the times of valid pings\nwhen Percent Good is reduced. Such post-processing is needed prior to\nsubmission of \"processed ADCP data\" to JASADCP or other archives.\n\nFull CODAS processing\n---------------------\nWhenever single-ping data have been recorded, full CODAS processing\nprovides the best end product.\n\nFull CODAS processing starts with the single-ping velocities in beam\ncoordinates.  Based on the transducer orientation relative to the\nhull, the beam velocities are transformed to horizontal, vertical, and\n\"error velocity\" components.  Using a reliable heading (typically from\nthe ship\'s gyro compass), the velocities in ship coordinates are\nrotated into earth coordinates.\n\nPings are grouped into an \"ensemble\" (usually 2-5 minutes duration)\nand undergo a suite of automated editing algorithms (removal of\nacoustic interference; identification of the bottom; editing based on\nthresholds; and specialized editing that targets CTD wire interference\nand \"weak, biased profiles\".  The ensemble of single-ping velocities\nis then averaged using an iterative reference layer averaging scheme.\nEach ensemble is approximated as a single function of depth, with a\nzero-average over a reference layer plus a reference layer velocity\nfor each ping.  Adding the average of the single-ping reference layer\nvelocities to the function of depth yields the ensemble-average\nvelocity profile.  These averaged profiles, along with ancillary\nmeasurements, are written to disk, and subsequently loaded into the\nCODAS database. Everything after this stage is \"post-processing\".\n\nnote (time):\n------------\nTime is stored in the database using UTC Year, Month, Day, Hour,\nMinute, Seconds.  Floating point time \"Decimal Day\" is the floating\npoint interval in days since the start of the year, usually the year\nof the first day of the cruise.\n\n\nnote (heading):\n---------------\nCODAS processing uses heading from a reliable device, and (if\navailable) uses a time-dependent correction by an accurate heading\ndevice.  The reliable heading device is typically a gyro compass (for\nexample, the Bridge gyro).  Accurate heading devices can be POSMV,\nSeapath, Phins, Hydrins, MAHRS, or various Ashtech devices; this\nvaries with the technology of the time.  It is always confusing to\nkeep track of the sign of the heading correction.  Headings are written\ndegrees, positive clockwise. setting up some variables:\n\nX = transducer angle (CONFIG1_heading_bias)\n    positive clockwise (beam 3 angle relative to ship)\nG = Reliable heading (gyrocompass)\nA = Accurate heading\ndh = G - A = time-dependent heading correction (ANCIL2_watrk_hd_misalign)\n\nRotation of the measured velocities into the correct coordinate system\namounts to (u+i*v)*(exp(i*theta)) where theta is the sum of the\ncorrected heading and the transducer angle.\n\ntheta = X + (G - dh) = X + G - dh\n\n\nWatertrack and Bottomtrack calibrations give an indication of the\nresidual angle offset to apply, for example if mean and median of the\nphase are all 0.5 (then R=0.5).  Using the \"rotate\" command,\nthe value of R is added to \"ANCIL2_watrk_hd_misalign\".\n\nnew_dh = dh + R\n\nTherefore the total angle used in rotation is\n\nnew_theta = X + G - dh_new\n          = X + G - (dh + R)\n          = (X - R) + (G - dh)\n\nThe new estimate of the transducer angle is: X - R\nANCIL2_watrk_hd_misalign contains: dh + R\n\n====================================================\n\nProfile flags\n-------------\nProfile editing flags are provided for each depth cell:\n\nbinary    decimal    below    Percent\nvalue     value      bottom   Good       bin\n-------+----------+--------+----------+-------+\n000         0\n001         1                            bad\n010         2                  bad\n011         3                  bad       bad\n100         4         bad\n101         5         bad                bad\n110         6         bad      bad\n111         7         bad      bad       bad\n-------+----------+--------+----------+-------+\n" ;
		:date_created = "removed date-time" ;
		:time_coverage_start = "removed date-time" ;
		:time_coverage_end = "removed date-time" ;
		:geospatial_lon_min = -125.581294444444 ;
		:geospatial_lon_max = -122.392380555556 ;
		:geospatial_lat_units = "degrees_north" ;
		:geospatial_lon_units = "degrees_east" ;
		:acknowledgement = "This work is a contribution to the S-MODE project, an EVS-3 Investigation awarded under NASA Research Announcement NNH17ZDA001N-EVS3 and NASA grant 80NSSC19K1256 to Woods Hole Oceanographic Institution." ;
		:id = "SMODE_LX_SHIPBOARD_ADCP_V1" ;
		:history = "removed date-timex S-MODE_PFC_OC2108A_adcp_os75nb.h5\n" ;
		:history_json = "[{\"$schema\":\"https://harmony.earthdata.nasa.gov/schemas/history/0.1.0/history-0.1.0.json\",\"date_time\":\"removed date-time\",\"program\":\"hyrax\",\"version\":\"1.16.3\",\"parameters\":[{\"request_url\":\"S-MODE_PFC_OC2108A_adcp_os75nb.h5\"}]}]" ;
}
