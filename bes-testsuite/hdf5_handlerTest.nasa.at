# Process with autom4te to create an -*- Autotest -*- test suite.


# ------------------------------
#

AT_INIT([bes.conf besstandalone getdap])
# AT_COPYRIGHT([])

AT_TESTED([besstandalone])

# Usage: _AT_TEST_*(<bescmd source>, <baseline file>)

m4_define([_AT_BESCMD_TEST],   
[AT_SETUP([BESCMD $1])
AT_KEYWORDS([bescmd])
# Use the following AT_CHECK to generate baseline file.
# AT_CHECK([besstandalone -c $abs_builddir/bes.conf -i $1 > $2 || true], [], [stdout], [stderr])

# This is the original.
AT_CHECK([besstandalone -c $abs_builddir/bes.conf -i $1 || true], [], [stdout], [stderr])
AT_CHECK([diff -b -B $2 stdout || diff -b -B $2 stderr], [], [ignore],[],[])
AT_CLEANUP])

m4_define([_AT_BESCMD_BINARYDATA_TEST],   
[AT_SETUP([BESCMD $1])
AT_KEYWORDS([bescmd])
# Use the following AT_CHECK to generate baseline file.
# AT_CHECK([besstandalone -c $abs_builddir/bes.conf -i $1 | getdap -M - > $2 || true], [], [stdout], [stderr])

# This is the original.
AT_CHECK([besstandalone -c $abs_builddir/bes.conf -i $1 | getdap -M - || true], [], [stdout], [stderr])
AT_CHECK([diff -b -B $2 stdout || diff -b -B $2 stderr], [], [ignore],[],[])
AT_CLEANUP])

m4_define([AT_BESCMD_RESPONSE_TEST],
[_AT_BESCMD_TEST([$abs_srcdir/h5.nasa/$1], [$abs_srcdir/h5.nasa/$1.baseline])
])

m4_define([AT_BESCMD_BINARYDATA_RESPONSE_TEST],
[_AT_BESCMD_BINARYDATA_TEST([$abs_srcdir/h5.nasa/$1], [$abs_srcdir/h5.nasa/$1.baseline])
])

# Test NASA files.
AT_BESCMD_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_19970903_v003-20111127T185012Z.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_19970903_v003-20111127T185012Z.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_19970903_v003-20111127T185012Z.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_19970903_v003-20111127T185012Z.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_20100101_v002-20110527T191319Z.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_20100101_v002-20110527T191319Z.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_20100101_v002-20110527T191319Z.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([DeepBlue-SeaWiFS-1.0_L3_20100101_v002-20110527T191319Z.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([GSSTF.2b.2008.01.01.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([GSSTF.2b.2008.01.01.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([GSSTF.2b.2008.01.01.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([GSSTF.2b.2008.01.01.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L3ZAD_v06-00-00-c02_2005d022-2008d077.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([HIRDLS-Aura_L3ZAD_v06-00-00-c02_2005d022-2008d077.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L3ZAD_v06-00-00-c02_2005d022-2008d077.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L3ZAD_v06-00-00-c02_2005d022-2008d077.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-Temperature_v03-33-c01_2011d316.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([MLS-Aura_L2GP-Temperature_v03-33-c01_2011d316.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-Temperature_v03-33-c01_2011d316.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-Temperature_v03-33-c01_2011d316.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMNO2_2008m0720t2016-o21357_v003-2008m0721t101450.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L2-OMNO2_2008m0720t2016-o21357_v003-2008m0721t101450.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMNO2_2008m0720t2016-o21357_v003-2008m0721t101450.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMNO2_2008m0720t2016-o21357_v003-2008m0721t101450.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMUVB_2006m0104t0019-o07831_v003-2008m0716t0249.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L2-OMUVB_2006m0104t0019-o07831_v003-2008m0716t0249.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMUVB_2006m0104t0019-o07831_v003-2008m0716t0249.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMUVB_2006m0104t0019-o07831_v003-2008m0716t0249.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2G-OMTO3G_2004m1001_v003-2009m0602t123920.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L2G-OMTO3G_2004m1001_v003-2009m0602t123920.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2G-OMTO3G_2004m1001_v003-2009m0602t123920.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2G-OMTO3G_2004m1001_v003-2009m0602t123920.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMAEROe_2012m0213_v003-2012m0215t021315.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L3-OMAEROe_2012m0213_v003-2012m0215t021315.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMAEROe_2012m0213_v003-2012m0215t021315.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMAEROe_2012m0213_v003-2012m0215t021315.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMAERUVd_2009m0109_v003-2011m1203t141123.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L3-OMAERUVd_2009m0109_v003-2011m1203t141123.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMAERUVd_2009m0109_v003-2011m1203t141123.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMAERUVd_2009m0109_v003-2011m1203t141123.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMSO2e_2012m0101_v003-2012m0103t014459.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L3-OMSO2e_2012m0101_v003-2012m0103t014459.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMSO2e_2012m0101_v003-2012m0103t014459.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L3-OMSO2e_2012m0101_v003-2012m0103t014459.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([Q20103372010343.L3m_7D_SCIB1_V1.0_SSS_1deg.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([Q20103372010343.L3m_7D_SCIB1_V1.0_SSS_1deg.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([Q20103372010343.L3m_7D_SCIB1_V1.0_SSS_1deg.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([Q20103372010343.L3m_7D_SCIB1_V1.0_SSS_1deg.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([Q2011149002900.L2_SCI_V1.0.bz2.0.bz2.0.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([Q2011149002900.L2_SCI_V1.0.bz2.0.bz2.0.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([Q2011149002900.L2_SCI_V1.0.bz2.0.bz2.0.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([Q2011149002900.L2_SCI_V1.0.bz2.0.bz2.0.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([Q20111722011263.L3b_SNSU_EVSCI_V1.2.main.h5.das.bescmd])
# AT_BESCMD_BINARYDATA_RESPONSE_TEST([Q20111722011263.L3b_SNSU_EVSCI_V1.2.main.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([Q20111722011263.L3b_SNSU_EVSCI_V1.2.main.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([Q20111722011263.L3b_SNSU_EVSCI_V1.2.main.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([TES-Aura_L2-O3-Nadir_r0000011015_F05_07.he5.das.bescmd])
 AT_BESCMD_BINARYDATA_RESPONSE_TEST([TES-Aura_L2-O3-Nadir_r0000011015_F05_07.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([TES-Aura_L2-O3-Nadir_r0000011015_F05_07.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([TES-Aura_L2-O3-Nadir_r0000011015_F05_07.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([TES-Aura_L3-CH4_r0000010410_F01_07.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([TES-Aura_L3-CH4_r0000010410_F01_07.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([TES-Aura_L3-CH4_r0000010410_F01_07.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([TES-Aura_L3-CH4_r0000010410_F01_07.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([acos_L2s_110419_43_Production_v110110_L2s2800_r01_PolB_110430192739.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([acos_L2s_110419_43_Production_v110110_L2s2800_r01_PolB_110430192739.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([acos_L2s_110419_43_Production_v110110_L2s2800_r01_PolB_110430192739.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([acos_L2s_110419_43_Production_v110110_L2s2800_r01_PolB_110430192739.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([mabel_l2a_20110322T165030_005_1.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([mabel_l2a_20110322T165030_005_1.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([mabel_l2a_20110322T165030_005_1.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([mabel_l2a_20110322T165030_005_1.h5.ddx.bescmd])

# Test for HFVHANDLER-72
AT_BESCMD_RESPONSE_TEST([BUV-Nimbus04_L3zm_v01-00-2012m0203t144121.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([BUV-Nimbus04_L3zm_v01-00-2012m0203t144121.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([BUV-Nimbus04_L3zm_v01-00-2012m0203t144121.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([BUV-Nimbus04_L3zm_v01-00-2012m0203t144121.h5.ddx.bescmd])

# Test for HFVHANDLER-77
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMBRO_2012m1204t1200-o44623_v003-2012m1204t185453.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI-Aura_L2-OMBRO_2012m1204t1200-o44623_v003-2012m1204t185453.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMBRO_2012m1204t1200-o44623_v003-2012m1204t185453.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI-Aura_L2-OMBRO_2012m1204t1200-o44623_v003-2012m1204t185453.he5.ddx.bescmd])

# Test for HFVHANDLER-75
AT_BESCMD_RESPONSE_TEST([GOZ-Source-MLP_HCl_ev1-00_2005.nc4.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([GOZ-Source-MLP_HCl_ev1-00_2005.nc4.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([GOZ-Source-MLP_HCl_ev1-00_2005.nc4.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([GOZ-Source-MLP_HCl_ev1-00_2005.nc4.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI_L3.nc4.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([OMI_L3.nc4.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI_L3.nc4.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([OMI_L3.nc4.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2006.06.15.239_airs.nc4.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2006.06.15.239_airs.nc4.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2006.06.15.239_airs.nc4.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2006.06.15.239_airs.nc4.h5.ddx.bescmd])

# Test for HFVHANDLER-82
AT_BESCMD_RESPONSE_TEST([GLAH13_633_2103_001_1317_0_01_0001.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([GLAH13_633_2103_001_1317_0_01_0001.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([GLAH13_633_2103_001_1317_0_01_0001.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([GLAH13_633_2103_001_1317_0_01_0001.h5.ddx.bescmd])

# HFVHANDLER-85
AT_BESCMD_RESPONSE_TEST([GSSTFYC.3.Year.1988_2008.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([GSSTFYC.3.Year.1988_2008.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([GSSTFYC.3.Year.1988_2008.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([GSSTFYC.3.Year.1988_2008.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L2_v06-00-00-c01_2008d001.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([HIRDLS-Aura_L2_v06-00-00-c01_2008d001.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L2_v06-00-00-c01_2008d001.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L2_v06-00-00-c01_2008d001.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L3SCOL_v06-00-00-c02_2005d022-2008d077.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([HIRDLS-Aura_L3SCOL_v06-00-00-c02_2005d022-2008d077.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L3SCOL_v06-00-00-c02_2005d022-2008d077.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([HIRDLS-Aura_L3SCOL_v06-00-00-c02_2005d022-2008d077.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-BrO_v02-23-c01_2010d255.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([MLS-Aura_L2GP-BrO_v02-23-c01_2010d255.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-BrO_v02-23-c01_2010d255.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-BrO_v02-23-c01_2010d255.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-O3_v03-40-NRT-06-c01_2013d024t0010.he5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([MLS-Aura_L2GP-O3_v03-40-NRT-06-c01_2013d024t0010.he5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-O3_v03-40-NRT-06-c01_2013d024t0010.he5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([MLS-Aura_L2GP-O3_v03-40-NRT-06-c01_2013d024t0010.he5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([SBUV2-NOAA17_L2-SBUV2N17L2_2011m1231_v01-01-2012m0905t152911.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([SBUV2-NOAA17_L2-SBUV2N17L2_2011m1231_v01-01-2012m0905t152911.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([SBUV2-NOAA17_L2-SBUV2N17L2_2011m1231_v01-01-2012m0905t152911.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([SBUV2-NOAA17_L2-SBUV2N17L2_2011m1231_v01-01-2012m0905t152911.h5.ddx.bescmd])
AT_BESCMD_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2011.03.11.001_amsu.nc4.h5.das.bescmd])
AT_BESCMD_BINARYDATA_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2011.03.11.001_amsu.nc4.h5.data.bescmd])
AT_BESCMD_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2011.03.11.001_amsu.nc4.h5.dds.bescmd])
AT_BESCMD_RESPONSE_TEST([matched-airs.aqua_cloudsat-v3.1-2011.03.11.001_amsu.nc4.h5.ddx.bescmd])
