<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OPeNDAP Back End Server (BES): DefineResponseHandler class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>DefineResponseHandler Class Reference</h1>response handler that creates a definition given container names and optionally constraints and attributes for each of those containers.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="DefineResponseHandler_8h-source.html">DefineResponseHandler.h</a>&gt;</code>
<p>
<p>Inheritance diagram for DefineResponseHandler:
<p><center><img src="classDefineResponseHandler.png" usemap="#DefineResponseHandler_map" border="0" alt=""></center>
<map name="DefineResponseHandler_map">
<area href="classDODSResponseHandler.html" alt="DODSResponseHandler" shape="rect" coords="0,0,149,24">
</map>
<a href="classDefineResponseHandler-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDefineResponseHandler.html#DefineResponseHandlera0">DefineResponseHandler</a> (string name)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDefineResponseHandler.html#DefineResponseHandlera1">~DefineResponseHandler</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDefineResponseHandler.html#DefineResponseHandlera2">execute</a> (<a class="el" href="struct__DODSDataHandlerInterface.html">DODSDataHandlerInterface</a> &amp;dhi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">executes the command to create a new definition.  <a href="#DefineResponseHandlera2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDefineResponseHandler.html#DefineResponseHandlera3">transmit</a> (<a class="el" href="classDODSTransmitter.html">DODSTransmitter</a> *transmitter, <a class="el" href="struct__DODSDataHandlerInterface.html">DODSDataHandlerInterface</a> &amp;dhi)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">transmit the response object built by the execute command using the specified transmitter object  <a href="#DefineResponseHandlera3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual DODSResponseObject *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDODSResponseHandler.html#VersionResponseHandlera4">get_response_object</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the current response object  <a href="#VersionResponseHandlera4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDODSResponseHandler.html#VersionResponseHandlera5">set_response_object</a> (DODSResponseObject *o)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">replaces the current response object to the specified one  <a href="#VersionResponseHandlera5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>virtual string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDODSResponseHandler.html#VersionResponseHandlera6">get_name</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the name of this response object, e.g. das  <a href="#VersionResponseHandlera6"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="classDODSResponseHandler.html">DODSResponseHandler</a> *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDefineResponseHandler.html#DefineResponseHandlere0">DefineResponseBuilder</a> (string handler_name)</td></tr>

<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>string&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDODSResponseHandler.html#VersionResponseHandlerp0">_response_name</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>DODSResponseObject *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classDODSResponseHandler.html#VersionResponseHandlerp1">_response</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
response handler that creates a definition given container names and optionally constraints and attributes for each of those containers. 
<p>
A request looks like:<p>
define &lt;def_name&gt; as &lt;container_list&gt; &lt;BR /&gt; &nbsp;&nbsp;[where &lt;container_x&gt;.constraint="&lt;constraint&gt;"] &lt;BR /&gt; &nbsp;&nbsp;[,&lt;container_x&gt;.attributes="&lt;attrs&gt;"] &lt;BR /&gt; &nbsp;&nbsp;[aggregate by "&amp;lt;aggregation_command&amp;gt;"];<p>
where container_list is a list of containers representing points of data, such as a file. For each container in the container_list the user can specify a constraint and a list of attributes. You need not specify a constraint for a given container or a list of attributes. If just specifying a constraint then leave out the attributes. If just specifying a list of attributes then leave out the constraint. For example:<p>
define d1 as container_1,container_2 &lt;BR /&gt; &nbsp;&nbsp;where container_1.constraint="constraint1" &lt;BR /&gt; &nbsp;&nbsp;,container_2.constraint="constraint2" &lt;BR /&gt; &nbsp;&nbsp;,container_2.attributes="attr1,attr2";<p>
It adds the new definition to the list. If a definition already exists in the list with the given name then it is removed first and the new one is added. The definition is currently available through the life of the server process and is not persistent.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDODSDefine.html">DODSDefine</a> <p>
<a class="el" href="classDODSDefineList.html">DODSDefineList</a> <p>
<a class="el" href="classDODSContainer.html">DODSContainer</a> <p>
<a class="el" href="classDODSTransmitter.html">DODSTransmitter</a> <p>
<a class="el" href="classDODSTokenizer.html">DODSTokenizer</a> </dd></dl>

<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="DefineResponseHandlera0" doxytag="DefineResponseHandler::DefineResponseHandler" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DefineResponseHandler::DefineResponseHandler </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="DefineResponseHandlera1" doxytag="DefineResponseHandler::~DefineResponseHandler" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DefineResponseHandler::~<a class="el" href="classDefineResponseHandler.html">DefineResponseHandler</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="DefineResponseHandlere0" doxytag="DefineResponseHandler::DefineResponseBuilder" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classDODSResponseHandler.html">DODSResponseHandler</a> * DefineResponseHandler::DefineResponseBuilder </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">string&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>handler_name</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [static]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="DefineResponseHandlera2" doxytag="DefineResponseHandler::execute" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DefineResponseHandler::execute </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__DODSDataHandlerInterface.html">DODSDataHandlerInterface</a> &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>dhi</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
executes the command to create a new definition. 
<p>
A <a class="el" href="classDODSDefine.html">DODSDefine</a> object is created and added to the list of definitions. If a definition already exists with the given name then it is removed and the new one added.<p>
The <a class="el" href="classDODSDefine.html">DODSDefine</a> object is created using the containers, constraints, attribute lists and aggregation command parsed in the parse method.<p>
The response object built for this command is a <a class="el" href="classDODSTextInfo.html">DODSTextInfo</a> response object. It will contain one of two possible responses:<p>
Successfully added definition &lt;def_name&gt; &lt;BR /&gt; Successfully replaced definition &lt;def_name&gt;<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>dhi</em>&nbsp;</td><td>structure that holds request and response information </td></tr>
  </table>
</dl>
<dl compact><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>DODSResponseException</em>&nbsp;</td><td>if there is a problem building the response object </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="struct__DODSDataHandlerInterface.html">_DODSDataHandlerInterface</a> <p>
<a class="el" href="classDODSTextInfo.html">DODSTextInfo</a> <p>
<a class="el" href="classDODSDefine.html">DODSDefine</a> <p>
<a class="el" href="classDODSDefineList.html">DODSDefineList</a> </dd></dl>

<p>
Implements <a class="el" href="classDODSResponseHandler.html#DODSResponseHandlera3">DODSResponseHandler</a>.    </td>
  </tr>
</table>
<a class="anchor" name="VersionResponseHandlera6" doxytag="DefineResponseHandler::get_name" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> virtual string DODSResponseHandler::get_name </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual, inherited]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
return the name of this response object, e.g. das 
<p>
This name is used to determine which response handler can handle a requested responose, such as das, dds, ddx, tab, info, version, help, etc...<p>
<dl compact><dt><b>Returns:</b></dt><dd>response name </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="VersionResponseHandlera4" doxytag="DefineResponseHandler::get_response_object" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DODSResponseObject * DODSResponseHandler::get_response_object </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual, inherited]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
return the current response object 
<p>
Returns the current response object, null if one has not yet been created. The response handler maintains ownership of the response object, unless the <a class="el" href="classDODSResponseHandler.html#VersionResponseHandlera5">set_response_object()</a> method is called at which point the caller of <a class="el" href="classDODSResponseHandler.html#VersionResponseHandlera4">get_response_object()</a> becomes the owner.<p>
<dl compact><dt><b>See also:</b></dt><dd>DODSResponseObject </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="VersionResponseHandlera5" doxytag="DefineResponseHandler::set_response_object" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DODSResponseHandler::set_response_object </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">DODSResponseObject *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>o</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual, inherited]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
replaces the current response object to the specified one 
<p>
This method is used to replace the response object with a new one, for example if during aggregation a new response object is built from the current response object.<p>
The current response object is NOT deleted. The response handler assumes ownership of the new response object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>o</em>&nbsp;</td><td>new response object used to replace the current one </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>DODSResponseObject </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="DefineResponseHandlera3" doxytag="DefineResponseHandler::transmit" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void DefineResponseHandler::transmit </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classDODSTransmitter.html">DODSTransmitter</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>transmitter</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="struct__DODSDataHandlerInterface.html">DODSDataHandlerInterface</a> &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>dhi</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [virtual]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
transmit the response object built by the execute command using the specified transmitter object 
<p>
A <a class="el" href="classDODSTextInfo.html">DODSTextInfo</a> response object was built in the exeucte command to inform the user whether the definition was successfully added or replaced. The method send_text is called on the <a class="el" href="classDODSTransmitter.html">DODSTransmitter</a> object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>transmitter</em>&nbsp;</td><td>object that knows how to transmit specific basic types </td></tr>
    <tr><td valign=top><em>dhi</em>&nbsp;</td><td>structure that holds the request and response information </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classDODSTextInfo.html">DODSTextInfo</a> <p>
<a class="el" href="classDODSTransmitter.html">DODSTransmitter</a> <p>
<a class="el" href="struct__DODSDataHandlerInterface.html">_DODSDataHandlerInterface</a> </dd></dl>

<p>
Implements <a class="el" href="classDODSResponseHandler.html#DODSResponseHandlera4">DODSResponseHandler</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="VersionResponseHandlerp1" doxytag="DefineResponseHandler::_response" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> DODSResponseObject* <a class="el" href="classDODSResponseHandler.html#VersionResponseHandlerp1">DODSResponseHandler::_response</a><code> [protected, inherited]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="VersionResponseHandlerp0" doxytag="DefineResponseHandler::_response_name" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> string <a class="el" href="classDODSResponseHandler.html#VersionResponseHandlerp0">DODSResponseHandler::_response_name</a><code> [protected, inherited]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DefineResponseHandler_8h-source.html">DefineResponseHandler.h</a><li><a class="el" href="DefineResponseHandler_8cc.html">DefineResponseHandler.cc</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Nov 15 10:29:01 2005 for OPeNDAP Back End Server (BES) by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
